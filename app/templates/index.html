{% extends "single_column.html" %}
{% from "macros.html" import field_render, form_render, render_provider, pagination %}


{% block full %}
    {% if current_user.is_authenticated == false %}

        <div class = "d-flex flex-row text-light">
            <div class = "p-4 display-3 flex-grow-1">Ask a Neighbor</div>
            <div class = "p-5 lead flex-grow-1 align-self-center">Service reviews from those you know best.  Easily find the
            electricians, plumbers and other providers that are recommended by your neighbors and friends.</div>
        </div>
    {% endif %}
{%endblock%}

  
{% block content_narrow %}
    {% if current_user.is_authenticated == false %}
        <br>
        <h3>Sign In</h3>
        <form action="/login" method="POST">
            {{ form_render(form) }}             
        </form>
        <br>
        <a href="{{url_for('register')}}">Click to sign up for an account.</a>

    {% else %}
        <h3>Search for Provider:</h3>
        <form action="/search" method="get">
{#            {{form.hidden_tag()}} #}
            {{field_render(form.category)}}
            {{field_render(form.city)}}
            {{field_render(form.state)}}
            <fieldset class="form-group">
                <legend class="col-form-label mx-auto">Check to filter by:</legend>
                    {{field_render(form.friends_only)}}
                    {{field_render(form.groups_only)}}
            </fieldset>
            {{field_render(form.submit)}}
        </form>
        <br>

    {% endif %}

{% endblock %}  

{% block content_wide %}
    {% if current_user.is_authenticated == false %}
    {% else %}
        {%for provider in providers %}
            {{render_provider(provider)}}
            <br>
        {% endfor %}
        {% if pag_urls %}
            {{ pagination(pag_urls) }}
        {% endif %}
    {% endif %}

{% endblock %}  


